<%= form_for(:session, url: login_path) do |f| %>
  <div class="form-group">
    <%= f.label :email, "メールアドレス" %>
    <%= f.text_field :email, class: 'form-control' %>
  </div>
  <div class="form-group">
    <%= f.label :password, "パスワード" %>
    <%= f.password_field :password, class: 'form-control' %>
    <div class="password-eye">
      <span class="fas fa-eye-slash"></span>
    </div>
  </div>
<%= f.submit "ログイン", class: 'btn-block' %>
<% end %>
<%= link_to 'サインアップはこちら', new_user_path %>

<script>
  function eyeslashClick(){
    $(".fa-eye-slash").on("click", function(){
      $(".fa-eye").off("click")
      let input = $(this).parents(".form-group").find("input");
      input.attr("type", "text");
      $(this).removeClass();
      $(this).addClass("fas fa-eye");
      eyeClick();
    });
  }
  function eyeClick(){
    $(".fa-eye").on("click", function(){
      $(".fa-eye-slash").off("click")
      let input = $(this).parents(".form-group").find("input");
      input.attr("type", "password");
      $(this).removeClass();
      $(this).addClass("fas fa-eye-slash");
      eyeslashClick();
    });
  }
  eyeslashClick();
  eyeClick();
</script>